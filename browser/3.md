## HTTP 协议
### HTTP/0.9
* 只有一个请求行，并没有HTTP 请求头和请求体
* 服务器也没有返回头信息
* 返回的文件内容都是 ASCII 字符流
### HTTP/1.0
* 引入请求头和响应头
* 状态码、缓存、客户端信息（都存在于请求头和响应头）
### HTTP/1.1
* 改进持久连接，keep-alive。它的特点是在一个 TCP 连接上可以传输多个 HTTP 请求，只要浏览器或者服务器没有明确断开连接，那么该 TCP 连接会一直保持。目前浏览器中对于同一个域名，默认允许同时建立 6 个 TCP 持久连接。
* cookie等

## xss 攻击
### 存储型 XSS 攻击
* 多为编辑、输入文字时关键字过滤不全，存储到服务器，从而影响到用户。
### 反射型 XSS 攻击
* 通过地址请求将参数传给服务器，服务器又返回给用户，所以不要随便乱点链接。
* Web 服务器不会存储反射型 XSS 攻击的恶意脚本，这是和存储型 XSS 攻击不同的地方。
### 基于 DOM 的 XSS 攻击
* 通过网络劫持在页面传输过程中修改 HTML 页面的内容，这种劫持类型很多，有通过 WiFi 路由器劫持的，有通过本地恶意软件来劫持的，它们的共同点是在 Web 资源传输过程或者在用户使用页面的过程中修改 Web 页面的数据。
* 不涉及 web 服务器
### 防止 xss 攻击
1. 服务器对输入脚本进行过滤或转码。
2. 充分利用 CSP
    > CSP指的是内容安全策略，为了缓解很大一部分潜在的跨站脚本问题，浏览器的扩展程序系统引入了内容安全策略（CSP）的一般概念。
    * 限制加载其他域下的资源文件，这样即使黑客插入了一个 JavaScript 文件，这个 JavaScript 文件也是无法被加载的；
    * 禁止向第三方域提交数据，这样用户数据也不会外泄；
    * 禁止执行内联脚本和未授权的脚本；
    * 提供上报机制，这样可以帮助我们尽快发现有哪些 XSS 攻击，以便尽快修复问题。
    * 使用
        * 服务器返回  Content-Security-Policy  HTTP头部。或者设置 meta 标签。
        ```html
        <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src https://*; child-src 'none';">
        ```
3. 使用 HttpOnly 属性，有效保护 cookie。
## CSRF 攻击
> CSRF 跨站点请求伪造(Cross—Site Request Forgery)。通过伪造用户登录信息，骗取服务器的信任。
### 防止 CSRF 攻击
* 验证 HTTP Referer 字段
* 请求地址中添加 token 并验证
## HTTPS
* 对称加密
* 非对称加密
* 混合加密
* 数字证书