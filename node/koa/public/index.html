<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>wuyw</title>
</head>
<body>
hello world
<div id="user"></div>
<p id="getuser"></p>
</body>
<script src="jsonp.js"></script>
<script>
    jsonp({
        url: 'http://localhost:3001/getuser',
        params: {},
        callback: 'getuser'
    }).then(r => {
        setTimeout(_ => {
            let user = document.querySelector('#user');
            user.innerText = r;
        }, 1000);
        console.log(r);
    });
    // fetch('https://localhost:3001/getuser?callback=getuser').then(res => res.text()).then(r => {
    //     setTimeout(_ => {
    //         let getuser = document.querySelector('#getuser');
    //         getuser.innerText = r;
    //     }, 1000);
    // })
</script>
<script type="module">
    import {a, setA} from './module.js';
    console.log(a);
    setTimeout(() => {
        setA();
        console.log(a);
    }, 1000); 
</script>
</html>